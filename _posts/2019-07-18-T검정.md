---

layout: post

title:  "[ml] T검정 "

subtitle:   "[ml] T검정 "

categories: ml

tags: ml T검정 추정

comments: true

img: 
---

## T검정



1. 집단이 1개 , 모분산을 알고 있고, 평균을 구하고 싶은 경우 

* 양측 검정이라면  | t<sub>0</sub> | $$ \geq $$  t<sub>$\alpha/2$</sub>  라면 H<sub>0</sub>를 기각한다.
* T ~ t (n-1)

*  예제

  문제 : 창던지기 선수의 10회 기록을 조사한 데이터는 다음과 같다.

  [ 64 , 64.8 , 66, 63.5, 65, 68, 67 , 63.6, 67.6, 68.9]

  창던지기 거리의 평균이 65m가 넘는다는 주장을 유의수준 5%에서 검정 ( 창던지기 거리는 정규분포를 따른다고 가정한다. )

  * H<sub>0</sub> : $$\mu = 65$$   H<sub>1</sub> : $$\mu \neq 65$$ 
  * 평균 : 65.84   , 표본표준편차 : 1.948
  * T<sub>0</sub> = $$ \frac{\bar{X} - \mu}{S/\sqrt{n}} $$  = $$ \frac{65.84-65}{1.948/ \sqrt{10}} $$  =  1.364
  * T<sub>0.025</sub> ( 9 ) = 2.262
  * 따라서 T<sub>0</sub> < T<sub>0.025</sub> ( 9 )  으므로 귀무가설을 기각하지 못하여, 평균 창던지기 거리가 65m와 다르다고 할 증거가 없다. 
  * Pvalue  = 0.205  ( 유의수준 0.05보다 크므로 귀무가설을 기각할 수 없다. )
    * 파이썬에서 pval = stats.t.sf(np.abs( t값 ), n-1)*2   이용.



2. 집단이 2개, 모집단을 모를 경우, 추가가정( 집단간의 분산이 서로 같다, 집단간은 서로 독립적이다. )
   * S<sub>p</sub><sup>2</sup> = ( ( n<sub>1</sub> -1) * S<sub>p</sub><sup>2</sup>+ ( n<sub>2</sub> -1) * S<sub>p</sub><sup>2</sup> ) / ( n<sub>1</sub> + n<sub>2</sub>  -2)
   * V ( 자유도 ) =  n<sub>1</sub> + n<sub>2</sub>  -2
   * T = (($$ \bar{X} $$<sub>1</sub> -  $$ \bar{X} $$<sub>2</sub>  ) -  ( $$\mu$$<sub>1</sub> -  $$\mu$$<sub>2</sub>) )  / ( S<sub>p</sub> * $$\sqrt{(1/n1)+(1+n2)}$$)  )   ==> ( 계산을 할 경우에는 분자가 ($$ \bar{X} $$<sub>1</sub> -  $$ \bar{X} $$<sub>2</sub>  )  )



3. 집단이 2개, 모집단을 모를 경우, 추가가정( 집단간의 분산이 서로 다르다, 집단간은 서로 독립적이다. )
   * T = ($$ \bar{X} $$<sub>1</sub> -  $$ \bar{X} $$<sub>2</sub>  ) -  ( $$\mu$$<sub>1</sub> -  $$\mu$$<sub>2</sub>)   / ( $$\sqrt{(S_{1}^{2}/n_{1})+(S_{2}^{2}/n_{2})}$$)  )
   * V( 자유도 ) = $$ \frac{((S_{1}^{2}/n_{1})+(S_{2}^{2}/n_{2}))^{2}}{ \frac{(S_{1}^{2}/n_{1})^{2}}{n_{1}-1} + \frac{(S_{2}^{2}/n_{2})^{2}}{n_{2}-1}} $$



4. 두 집단이 서로 독립이라는 것을 가정할 수 없을 경우  ( 쌍체 T검정  - 대응표본T검정 )

   * T = $$\frac{\bar{D}- \mu_{D}}{S_{D}/\sqrt{n}}$$

   * t<sub>0</sub> = $$\frac{\bar{d}-0}{s_{d}/\sqrt{n}}$$

   * V (자유도 )= n-1

   * 예제

     집단1 (음식조절전)=  [82.1,78.1,86.2, 84.8,95.2, 91.6, 75.3, 78.5, 83.0,83.5]

     집단2(음식조절후) =  [80.7,78.1,83.9,83.5,91.2,91.2,72.6,76.2,81.6,81.2]

     * $$H_{0} : \mu_{1} = \mu_{2}$$ , $$H_{0} : \mu_{1} > \mu_{2}$$
     * 다음 변경되는 D의 가설은 $$H_{0} : \mu_{D} = 0 $$ , $$H_{0} : \mu_{D} >  0$$

     * n=10

     * 집단 1평균 = 83.83
     * 집단 2 평균 = 82.02
     * $$\bar{d}$$ = 83.83-82.02 = 1.81
     * $$t_{0}$$ = $$\frac{\bar{d}}{s_{d}/\sqrt{n}}$$ = 4.934
     * $$ t_{0} \geq  t_{0.05}(9) =1.833$$ 이므로 귀무가설을 기각한다. 즉 음식조절 후에 평균 몸무게가 음식조절전에 줄었다는 증거가 있다. 음식조절법이 효과가 있음을 뒷받침한다.



![t검정_image_1](https://user-images.githubusercontent.com/49559408/61429299-ac0d0600-a960-11e9-94f1-20ebca77e84f.PNG)

## 참고 자료

https://stackoverflow.com/questions/17559897/python-p-value-from-t-statistic

Book - 통계학개론 - 강기훈